"use strict";(function(n,t,i){var u=function(){function i(t,i,r,u,f){for(var e=0,o=t.length;e<o;e++)n(t[e],i,r,u,f)}function n(n,i,r,u,f){if(i in n){if(u.override)Object.defineProperty(n,i,r);else if(u.merge){var e=n[i],o=f[i];t(e,o,u)}}else Object.defineProperty(n,i,r)}function t(t,r,u){var h,s,o,e,f;u||(u={enumerable:!1,configurable:undefined,writable:undefined,override:!0,merge:!1});h=t instanceof Array?i:n;s=Object.getOwnPropertyDescriptors(r);for(o in s)e=u.hasOwnProperty(o)?Object.assign({},u,u[o]):u,f=s[o],f.enumerable=e.enumerable?!0:!1,e.configurable===!1?f.configurable=!1:e.configurable===!0&&(f.configurable=!0),"value"in f&&(e.writable===!1?f.writable=!1:e.writable===!0&&(f.writable=!0)),h(t,o,f,e,r)}return t}(),r;i(n,t,u);r=n.ZMBA={domainName:n.location.hostname.match(/(?:(\w{3,})(?=(?:\.[a-z]{2,4}){1,2}$))|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3})|(localhost)/igm)[0],extendType:u,loadJSFile:function(){function n(i,r){if(typeof i=="string"){r.id=r.id||i.SubstrAfterLast("/").ReplaceAll(".","_");var u=Element.From('<script id="'+r.id+'" type="text/javascript" '+(r.attribs||"")+"><\/script>");u.onload=function(n){r.success&&r.success(n)};u.onerror=function(t){u.remove();console.warn("Failed to load resource.",r.id,t);n(r.srcs.shift()||t,r)};u.src=i;t.head.appendChild(u)}else r.error&&r.error(i)}return function(t){n(t.srcs.shift(),t)}}(),isEmptyArray:function(n,t){t||(t=r.isNothing);for(var i=0,u=n&&n.length>>>0;i<u;i++)if(!t(n[i]))return!1;return!0},isNothing:function(n){return n==null||typeof n=="number"&&isNaN(n)},isNullOrEmpty:function(n){return r.isNothing(n)||!n.length},isNullOrWhitespace:function(){var n=/^\s+$/;return function(t){return r.isNullOrEmpty(t)||typeof t=="string"&&t.match(n)!==null||t instanceof Array&&r.isEmptyArray(t,r.isNullOrWhitespace)}}()},function(){function t(n){this.document=n}var n=/^(?:expires|max\-age|path|domain|secure)$/i;t.prototype={getCookie:function(n){if(!n)return null;var t=new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(n).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$");return decodeURIComponent(this.document.cookie.replace(t,"$1"))||null},getCookieObject:function(n){var t=this.getCookie(n);return t?JSON.parse(t):null},setCookie:function(t,i,r,u,f,e){if(!t||n.test(t))return!1;var o="";if(r)switch(r.constructor){case Number:o=r===Infinity?"; expires=Fri, 31 Dec 9999 23:59:59 GMT":"; max-age="+r;break;case String:o="; expires="+r;break;case Date:o="; expires="+r.toUTCString()}return typeof i!="string"&&(i=JSON.stringify(i)),this.document.cookie=encodeURIComponent(t)+"="+encodeURIComponent(i)+o+(f?"; domain="+f:"")+(u?"; path="+u:"")+(e?"; secure":""),!0},removeCookie:function(n,t,i){return this.hasCookie(n)?(this.document.cookie=encodeURIComponent(n)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT"+(i?"; domain="+i:"")+(t?"; path="+t:""),!0):!1},hasCookie:function(t){return!t||n.test(t)?!1:new RegExp("(?:^|;\\s*)"+encodeURIComponent(t).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(this.document.cookie)},get keys(){for(var n=this.document.cookie.replace(/((?:^|\s*;)[^\=]+)(?=;|$)|^\s*|\s*(?:\=[^;]*)?(?:\1|$)/g,"").split(/\s*(?:\=[^;]*)?;\s*/),i=n.length,t=0;t<i;t++)n[t]=decodeURIComponent(n[t]);return n}};r.extendType(Document.prototype,{get cookies(){return new t(this)}})}(),function(){function e(n){for(var t=1,r=arguments.length,i=new Array(r-t+1);t<r;t++)i[t-1]=arguments[t];this._isReady?n.apply(null,i):this._callbacks.push({cb:n,args:i})}function u(n){this._callbacks=[];this._isReady=!1;this.name=n;this.add=e.bind(this)}u.prototype={get isReady(){return this._isReady},set isReady(n){if(!this._isReady&&n){for(this._isReady=n;this._callbacks.length>0;){var t=this._callbacks.shift();try{t.cb.apply(null,t.args)}catch(i){console.error(i,t)}}console.log(this.name+": "+performance.now()+"ms")}}};var i=new u("documentReady"),f=new u("windowReady");r.ReadyListener=u;r.onDocumentReady=i.add;r.onWindowReady=f.add;t.readyState==="loaded"&&(i.isReady=!0);(t.readyState==="interactive"||t.readyState==="complete")&&(i.isReady=!0,f.isReady=!0);i.isReady||n.addEventListener("DOMContentLoaded",function(){return i.isReady=!0});f.isReady||n.addEventListener("load",function(){i.isReady=!0;f.isReady=!0})}()})(window,window.document,function(n,t,i){i(Object,{assign:function(n){for(var t,i,u=Object(n),r=1,f=arguments.length;r<f;r++)if(t=arguments[r],t!=null)for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(u[i]=t[i]);return u}},{override:!1});i(String.prototype,{ReplaceAll:function(n,t){return this.split(n).join(t)},Trim:function(){function r(r,u){return u==null||(u&3)==3?r.replace(n,""):(u&1)==1?r.replace(t,""):(u&2)==2?r.replace(i,""):r}function u(n,t,i){var e=t.length,r=0,u=n.length,f=0;if(i==null||(i&1)==1)while((f=n.indexOf(t,r))===r)r=f+e;if(i==null||(i&2)==2)while((f=n.lastIndexOf(t,u))===u-e)u=f;return r>0||u<n.length?n.substr(r,u-r):n}var n=/^\s+|\s+$/g,t=/^\s+/,i=/\s+$/;return function(n,t){return n?u(this,n,t):r(this,t)}}(),TrimStart:function(n){return this.Trim(n,1)},TrimEnd:function(n){return this.Trim(n,2)},SubstrBefore:function(n,t){var i=this.indexOf(n);return i>=0&&(t&&(i+=n.length),i<=this.length)?this.substr(0,i):this},SubstrAfter:function(n,t){var i=this.indexOf(n);return i>=0&&(t||(i+=n.length),i<=this.length)?this.substr(i):this},SubstrBeforeLast:function(n,t){var i=this.lastIndexOf(n);return i>=0&&(t&&(i+=n.length),i<=this.length)?this.substr(0,i):this},SubstrAfterLast:function(n,t){var i=this.lastIndexOf(n);return i>=0&&(t||(i+=n.length),i<=this.length)?this.substr(i):this}});i(Date.prototype,{AddSeconds:function(n){return this.setSeconds(this.getSeconds()+n),this},AddMinutes:function(n){return this.setMinutes(this.getMinutes()+n),this},AddHours:function(n){return this.setHours(this.getHours()+n),this},AddDays:function(n){return this.setHours(this.getHours()+n),this}});i(Date,{get Current(){return new Date}});i(Element,{From:function(){var i=n.document,t=/(\S+)=(["'])(.*?)(?:\2)|(\w+)/g;return function(n){for(var f=n.indexOf(">")+1,e=n.substr(0,f),r=t.exec(e)[4],u=i.createElement(r);(r=t.exec(e))!==null;)r[1]===undefined?u.setAttribute(r[4],""):u.setAttribute(r[1],r[3]);return u.innerHTML=n.substr(f,n.lastIndexOf("<")-f),t.lastIndex=0,u}}()});i(Element.prototype,{remove:function(){this.parentNode&&this.parentNode.removeChild(this)},matches:Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.oMatchesSelector||function(n){for(var i=(this.document||this.ownerDocument).querySelectorAll(n),t=i.length;--t>=0&&i.item(t)!==this;);return t>-1},closest:function(n){var t=this;do{if(t.matches(n))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1)}},{enumerable:!0,override:!1});i([Element.prototype,Document.prototype,DocumentFragment.prototype],{append:function(){for(var n,r=t.createDocumentFragment(),i=0,u=arguments.length;i<u;i++)n=arguments[i],r.appendChild(n instanceof Node?n:t.createTextNode(String(n)));this.appendChild(r)}},{enumerable:!0,override:!1});i(DOMTokenList.prototype,{ToggleMultiple:function(){for(var t=arguments.length-1,r=typeof arguments[t-1]=="boolean",i=!1,n=0;n<t;n++)i=r?this.toggle(arguments[n],arguments[t]):this.toggle(arguments[n]);return i}});i(RegExp.prototype,{GetMatches:function(n){this.lastIndex=0;for(var t=[],i=null;i=this.exec(n);)t.push(i);return t}});i(Array,{isArray:function(n){return Object.prototype.toString.call(n)==="[object Array]"},Every:function(n,t){if(!n)return!1;for(var i=0,r=n.length>>>0;i<r;i++)if(!t(n[i],i,n))return!1;return!0},ForEach:function(n,t){if(n)for(var i=0,r=n.length>>>0;i<r;i++)t(n[i],i,n);return n},Filter:function(n,t){var r=n?n.length>>>0:0,u=new Array(r),f=0,i;if(t||(t=ZMBA.IsNothing),r>0)for(i=0;i<r;i++)t(n[i],i,n)&&(u[f]=n[i],f++);return u.length=f,u},Find:function(n,t){if(n)for(var i=0,r=n.length>>>0;i<r;i++)if(!t(n[i],i,n))return n[i];return undefined},FindIndex:function(n,t){if(n)for(var i=0,r=n.length>>>0;i<r;i++)if(!t(n[i],i,n))return i;return-1},Includes:function(){var n=function(n,t){for(var i=t|0,r=n.length>>>0;i<r;i++)if(typeof n[i]=="number"&&isNaN(n[i]))return!0;return!1},t=function(n,t,i){for(var r=i|0,u=n.length>>>0;r<u;r++)if(n[r]===t)return!0;return!1};return function(i,r,u){return i&&typeof r=="number"&&isNaN(r)?n(i,u):t(i,r,u)}}(),Map:function(n,t){var r=n?n.length>>>0:0,u=new Array(r),i;if(r>0)for(i=0;i<r;i++)u[i]=t(n[i],i,n);return u}},{override:!0,isArray:{override:!1}});i([NodeList.prototype,HTMLCollection.prototype,Array.prototype],{every:function(n,t){return Array.Every(this,t?function(i,r,u){return n.call(t,i,r,u)}:n)},forEach:function(n,t){return Array.ForEach(this,t?function(i,r,u){return n.call(t,i,r,u)}:n)},find:function(n,t){return Array.Find(this,t?function(i,r,u){return n.call(t,i,r,u)}:n)},findIndex:function(n,t){return Array.FindIndex(this,t?function(i,r,u){return n.call(t,i,r,u)}:n)},filter:function(n,t){return Array.Filter(this,t?function(i,r,u){return n.call(t,i,r,u)}:n)},includes:function(n,t){return Array.Includes(this,n,t)},map:function(n,t){return Array.Map(this,t?function(i,r,u){return n.call(t,i,r,u)}:n)},Last:function(){return arguments.length>0&&(this[Math.max(0,this.length-1)]=arguments[0]),this.length>0?this[this.length-1]:undefined},First:function(){return arguments.length>0&&(this[0]=arguments[0]),this.length>0?this[0]:undefined}},{override:!1});i([NodeList.prototype,HTMLCollection.prototype],{ToArray:function(){for(var t=this.length,i=new Array(t),n=0;n<t;n++)i[n]=this[n];return i},Remove:function(){function n(i){var r=0,u=0;if(i==null)for(r=0,u=this.length;r<u;r++)this[r].remove();else if(typeof i=="string")for(r=0,u=this.length;r<u;r++)t.call(this[r],i)&&this[r].remove();else if(i instanceof Array)for(r=0,u=i.length;r<u;r++)n.call(this,i[r])}var t=Element.prototype.matches;return n}(),CSS:function(n){var u,i,e,r,o,f,t;if(n)for(u=Object.getOwnPropertyNames(n),i=0,e=this.length;i<e;i++)for(r=0,o=u.length;r<o;r++)f=u[r],t=n[f],typeof t=="number"&&(t=t+"px"),this[i].style[f]=t}})}),function(n,t,i,r){i.extendType(r,{rgxTrimUri:/^(\s|\?|\/|&)+|(\s|\?|\/|&)+$/,UserAccount:function(){return{LoginCookie:t.cookies.getCookieObject("userlogin"),get userName(){return this.LoginCookie&&this.LoginCookie.userName},get apiKey(){return this.LoginCookie&&this.LoginCookie.apiKey},TryLogin:function(n,t,i,r){function u(n){r&&r(n)}$.ajax({type:"GET",url:"webapi/account/login?UserName="+encodeURIComponent(n)+"&Password="+encodeURIComponent(t)}).fail(u).done(function(n){n.success?(this.LoginCookie=n.result,i&&i(n)):u(n)})},TryLogout:function(n,t){function i(n){t&&t(n)}$.ajax({type:"GET",url:"webapi/account/logout?username="+encodeURIComponent(this.userName)+"&apikeyorpassword="+encodeURIComponent(this.apiKey)}).fail(i).done(function(t){t.success?n&&n(t):i(t)}).always(function(){this.LoginCookie=null})}}}(),getRouteMetadata:function(n,t){$.ajax({cache:!1,type:"GET",url:"webapi/metadata?route="+encodeURIComponent(n),success:function(n){n.result&&t(n.result)}})},buildAjaxRequestFromInputs:function(){function e(n,t,i,r,u){n[t]=u?String(i).split(o):i}function u(r,u,f,o,s){var h,l,c;if(!i.isNullOrWhitespace(u))if(f==="QueryString"||f==="Url")t+=r+"="+encodeURIComponent(u)+"&";else if(r.indexOf(".")===-1)e(n.data,r,u,o,s);else for(h=n.data,l=r.split(".");l.length>0;)c=l.shift(),l.length===0?e(h,c,u,o,s):(h[c]||(h[c]={}),h=h[c])}var o=/\s*,\s*/,n,t,f;return function(i,e){var c,s,h,l,o;if(n=e||{},n.data=n.data||{},f=n.url||"",t="?",i.length)for(s=0,h=i.length;s<h;s++)o=i[s],"getAttribute"in o?u(o.getAttribute("param"),o.value,o.getAttribute("source"),o.getAttribute("jsType"),o.getAttribute("isCollection")==="true"):u(o.param,o.value,o.source,o.jsType,o.isCollection);else for(c=Object.getOwnPropertyNames(i),s=0,h=c.length;s<h;s++)l=c[s],o=i[l],u(l,o.value,o.source,o.jsType,o.isCollection);return n.url=(f+t).replace(r.rgxTrimUri,""),n}}(),setPageMessage:function(){var n={0:"success",1:"info",2:"alert",3:"error"};return function(i,r){var u=t.getElementById("divPageMessage");u.className=n[i]||i;u.innerHTML="";r instanceof Node?u.appendChild(r):u.innerHTML=r}}(),highlightRequiredInputs:function(n){t.body.classList.toggle("highlightRequiredInputs",n)},LocationAutoComplete:function(){function n(t){var u=this.cfg=Object.assign({},n.defaults,t),i,r;this.$search=$(u.search);this.$city=$(u.city);this.$state=$(u.state);this.$zip=$(u.zip);this.$country=$(u.country);this.$els=$().add(this.$city).add(this.$state).add(this.$zip).add(this.$country);i=this;r={ajaxSettings:{cache:!0,dataType:"json"},showNoSuggestionNotice:!0,paramName:"query",transformResult:function(n){return{suggestions:n.result.map(function(n){return{value:n.Formatted,data:n}})}},formatResult:function(n){return n.data.Formatted},onSearchStart:function(n){n.query=i.$els.map(function(){return this.value}).get().join(" ")}};this.autoSearch=this.$search.length>0&&this.$search.autocomplete(Object.assign({},r,{serviceUrl:"webapi/autocomplete/locations",onSearchStart:function(){},onSelect:function(n){var t=n.data;t&&(t.City&&i.$city.val(t.City),t.State&&i.$state.val(t.State),t.Zip&&i.$zip.val(t.Zip),t.Country&&i.$country.val(t.Country))}})).autocomplete();this.autoCity=this.$city.length>0&&this.$city.autocomplete(Object.assign({},r,{serviceUrl:"webapi/autocomplete/cities",transformResult:function(n){return{suggestions:n.result.map(function(n){return{value:n.City,data:n}})}}})).autocomplete();this.autoState=this.$state.length>0&&this.$state.autocomplete(Object.assign({},r,{serviceUrl:"webapi/autocomplete/states",formatResult:function(n){return n.data.State+", "+n.data.Country},transformResult:function(n){return{suggestions:n.result.map(function(n){return{value:n.State,data:n}})}}})).autocomplete();this.autoZip=this.$zip.length>0&&this.$zip.autocomplete(Object.assign({},r,{serviceUrl:"webapi/autocomplete/postalcodes",transformResult:function(n){return{suggestions:n.result.map(function(n){return{value:n.Zip,data:n}})}}})).autocomplete();this.autoCountry=this.$country.length>0&&this.$country.autocomplete(Object.assign({},r,{serviceUrl:"webapi/autocomplete/countries"})).autocomplete()}return n.defaults={search:null,city:"[param='Location.Locality']",state:"[param='Location.AdminDistrict']",zip:"[param='Location.PostalCode']",country:"[param='Location.CountryRegion']"},n}()},{override:!1,merge:!0});i.onDocumentReady(function(){t.querySelectorAll("time").forEach(function(n){n.innerText||(n.innerText=new Date(n.dateTime).toLocaleString())})});$.ajaxSetup({cache:!1})}(window,window.document,window.ZMBA,window.U=window.U||{});